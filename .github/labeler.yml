version: v1
# Title regex concept:
# - First alternative matches explicit prefixes (like "feat:", "fix:", "docs:", with optional scope/!).
# - Second alternative matches free-text keywords only in the part before the first ":".
#   This prevents free-text matching when a typed prefix is already present.
labels:
  - label: 'ğŸ“’ Documentation'
    matcher:
      # Title matching strategy:
      # 1) Prefer conventional prefixes first (e.g. "docs:" or "docs(scope):").
      # 2) Otherwise use free-text keywords, but only before any ":" appears in the title.
      title: '/^(docs(\([^)]+\))?!?:|[^:]*(docs?|readme|typos?|comments?|documentation))/i'

  - label: 'â˜¢ï¸ Bug'
    matcher:
      # Same strategy for all title regexes below: prefix-first, then colon-safe free-text.
      title: '/^(fix(\([^)]+\))?!?:|[^:]*(bugs?|bugfix(es)?|hotfix|fix(ed|es)?))/i'

  - label: 'ğŸ§¹ Updates'
    matcher:
      title: '/^(?!.*deps)((chore|refactor|perf|test|build|ci|style)(\([^)]+\))?!?:|[^:]*(improve(ments?|d|s|ing)?|missing|updates?|refactor(s|ed|ing)?|deprecated|remove(d|s)?|unused|tests?))/i'

  - label: 'ğŸ¤– Dependencies'
    matcher:
      title: '/^((deps(\([^)]+\))?|chore\(deps[^)]*\))!?:|[^:]*(deps?|dependencies|bump|upgrades?))/i'
      files:
        - 'go.sum'
        - '**/go.sum'

  - label: 'âœï¸ Feature'
    matcher:
      title: '/^(feat(\([^)]+\))?!?:|[^:]*(features?|create(d|s)?|implement(s|ed|ing|ations?)?|add(ed|s|ing)?|support(s|ed|ing)?))/i'

  - label: 'ğŸ“ Proposal'
    matcher:
      title: '/^(proposal(\([^)]+\))?!?:|[^:]*(proposals?|ideas?|requests?|suggest(ion|ions|ed)?))/i'

  - label: 'ğŸ¤” Question'
    matcher:
      title: '/^(question(\([^)]+\))?!?:|[^:]*(questions?|how|why|what|\?))/i'
